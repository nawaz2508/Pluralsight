<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>signup</title>
    <script src="https://kit.fontawesome.com/683b4b40e3.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="aballcss.css"/>
    
</head>
<body>
    <div id="absi">
        <div id="absileft">
            <img id="absilogo" src="https://app.pluralsight.com/id/img/login-logo.png"/>
            <div style="margin-top:10px">
                <p style="font-size: 20px;font-weight: bold;line-height:0px;">NAME</p>
                <input id="absuname" class="absiu" type="text"placeholder="NAME"/>

            </div>
            <div style="margin-top:10px">
                <p style="font-size: 20px;font-weight: bold;line-height:0px;">EMAIL</p>
                <input id="absuemail"class="absiu" type="text"placeholder="email"/>

            </div>
            
            <div style="margin-top:10px">
                <P style="font-size: 20px;font-weight: bold;line-height:0px;">PASSWORD</P>
                <input id="absupassword" class="absiu"type="password" placeholder="password"/>
            </div>
            <div style="margin-top:10px">
                <p style="font-size: 20px;font-weight: bold;line-height:0px;">MOBILE</p>
                <input id="absumobile" class="absiu" type="text"placeholder="MOBILE"/>

            </div>
            <div style="margin-top:10px">
                <p style="font-size: 20px;font-weight: bold;line-height:0px;">USERNAME</p>
                <input id="absuusername" class="absiu" type="text"placeholder="USERNAME"/>

            </div>
            <div style="margin-top:10px">
                <p style="font-size: 20px;font-weight: bold;line-height:0px;">ABOUT YOU</p>
                <input id="absuabout" class="absiu" type="text"placeholder="ABOUT YOU"/>

            </div>
            
           <button id="absubtns">Create Account</button>
           
           
           <hr>
            <p style="margin-top:100px; text-align: center">Copyright Â© 2004 - 2021 Pluralsight LLC. All rights reserved.</p>
            <p style="text-align: center; ">Terms of Use | Privacy Policy</p>
        </div>
        <div id="absiright">
            <p style="font-size:50px; font-weight:bolder">You're all set!</p>
            <p style="font-size:20px; font-weight:bold">Verify your email and then log in with your email and password to take the assessment.</p>
           
        </div>
    </div>
    
</body>
</html>
<script>
    document.getElementById("absubtns").addEventListener("click", creat);
        
    let d;
    async function creat(){
        let data={
        name:document.getElementById("absuname").value,
        email:document.getElementById("absuemail").value,
        password:document.getElementById("absupassword").value,
        mobile:document.getElementById("absumobile").value,
        username:document.getElementById("absuusername").value,
        description:document.getElementById("absuabout").value
        }
        console.log(data);
        let response=await fetch("https://masai-api-mocker.herokuapp.com/auth/register",{
                method:"post",
                body:JSON.stringify(data),
                headers:{
                    "content-type":"application/json"
                }
            });

        d=await response.json();
        //console.log(d.error);
        abalert(d.error);
    }

    function abalert(d){
        console.log(d)
        if(d===false){
            alert("YOUR ACCOUNT HAS BEEN SUCCESSFULLY CREATED")
            setTimeout(function(){
                window.location.href="signin.html"
            },2000)
        }else{
            alert("USER ALREADY EXISTED")
            
        }
    }
    
</script>